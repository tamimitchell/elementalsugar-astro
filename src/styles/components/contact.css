/**
 * contact.css
 *
 * Styles for ContactSection.astro.
 * Migrated from Next.js ContactSection.scss to plain CSS with design tokens.
 *
 * Classes:
 *   .contact                  -- Section wrapper (full viewport, relative positioning)
 *   .contact__background      -- Background image container (absolute, behind content)
 *   .contact__background img  -- Background image (cover, reduced opacity)
 *   .contact .section-inner   -- Content container (z-index above background)
 *   .contact__card            -- Glass card with pine gradient background
 *   .contact__label           -- Section heading spacing (gradient-text-light)
 *   .contact__intro           -- Paragraph text (parchment on dark)
 *   .contact__email           -- Email link wrapper
 *   .contact__link            -- Styled email anchor with iris underline
 *
 * Layout:
 *   - 100vh full viewport height, vertically centered (via section--viewport)
 *   - Background image with 60% opacity overlay
 *   - Pine gradient glass card, positioned right on desktop, centered on mobile
 *   - Max-width 600px card with generous padding
 *   - Pebble Flow inspired: card floats over landscape photography
 *
 * Typography:
 *   - Section heading: Comfortaa 700, gradient-text-light (heading-1 class)
 *   - Body paragraphs: body-text-lg, parchment at 90% opacity
 *   - Email link: body-text-lg, iris underline with hover transition
 *
 * Accessibility:
 *   - Semantic section with aria-labelledby
 *   - Proper heading hierarchy (h2 within main)
 *   - High contrast: parchment on pine card (10.2:1, exceeds WCAG AA 4.5:1)
 *   - Focus-visible states on email link
 *   - Respects prefers-reduced-motion
 *
 * Depends on: tokens.css, layout.css, typography.css
 */

/* ============================================================================
   CONTACT SECTION -- Full viewport with background image
   ============================================================================ */

.contact {
  position: relative;
  color: var(--color-parchment);
}

/* ============================================================================
   BACKGROUND IMAGE -- Absolute positioned behind content
   ============================================================================ */

.contact__background {
  position: absolute;
  inset: 0;
  z-index: 0;
  overflow: hidden;
}

.contact__background img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0.6;
}

/* ============================================================================
   CONTACT INNER -- Content positioned above background
   ============================================================================ */

.contact .section-inner {
  position: relative;
  z-index: 1;
  width: 100%;
  display: flex;
  justify-content: flex-end;
}

/* ============================================================================
   CONTACT CARD -- Pine gradient glass card
   ============================================================================ */

.contact__card {
  background: linear-gradient(
    135deg,
    var(--color-pine-light) 0%,
    var(--color-pine) 50%,
    var(--color-pine-dark) 100%
  );
  padding: var(--space-xl);
  border-radius: var(--border-radius-lg);
  max-width: 600px;
  position: relative;
  box-shadow:
    0 10px 40px rgba(0, 0, 0, 0.3),
    0 2px 8px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(4px);
}

/* Subtle gradient overlay for added depth */
.contact__card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    var(--color-pine-20) 0%,
    var(--color-ink-30) 100%
  );
  pointer-events: none;
  z-index: 0;
  border-radius: var(--border-radius-lg);
}

/* Ensure card children sit above the overlay */
.contact__card > * {
  position: relative;
  z-index: 1;
}

/* ============================================================================
   CONTACT LABEL -- Section heading with gradient text
   ============================================================================ */

.contact__label {
  margin-bottom: var(--space-xl);
}

/* ============================================================================
   CONTACT INTRO -- Body paragraphs (parchment on dark)
   ============================================================================ */

.contact__intro {
  color: var(--color-parchment);
  opacity: 0.9;
  margin-bottom: var(--space-lg);
  max-width: none;
}

.contact__intro:last-of-type {
  margin-bottom: 0;
}

/* ============================================================================
   CONTACT EMAIL -- Email link wrapper and styling
   ============================================================================ */

.contact__email {
  margin-top: var(--space-xl);
}

.contact__link {
  color: var(--color-parchment);
  text-decoration: none;
  font-weight: 400;
  border-bottom: 2px solid var(--color-iris);
  padding-bottom: var(--space-2xs);
  transition: border-color var(--duration-base) var(--ease-out);
}

/* Override base link hover (gradient text won't show on dark background) */
.contact__link:hover {
  -webkit-text-fill-color: var(--color-parchment);
  background: none;
  border-color: var(--color-parchment);
}

.contact__link:focus-visible {
  outline: 2px solid var(--color-iris);
  outline-offset: 4px;
  border-radius: 2px;
}

/* ============================================================================
   RESPONSIVE -- Mobile adjustments
   ============================================================================ */

@media (max-width: 768px) {
  .contact .section-inner {
    justify-content: center;
    padding-top: var(--space-2xl);
    padding-bottom: var(--space-2xl);
  }

  .contact__card {
    padding: var(--space-lg);
    max-width: 100%;
  }

  .contact__label {
    margin-bottom: var(--space-lg);
  }

  .contact__intro {
    margin-bottom: var(--space-md);
  }

  .contact__email {
    margin-top: var(--space-lg);
  }
}

/* ============================================================================
   REDUCED MOTION -- Disable transitions for users who prefer it
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
  .contact__link {
    transition: none;
  }
}

/* ============================================================================
   BACKDROP-FILTER FALLBACK -- Solid background when blur not supported
   ============================================================================ */

@supports not (backdrop-filter: blur(4px)) {
  .contact__card {
    background: linear-gradient(
      135deg,
      var(--color-pine-light) 0%,
      var(--color-pine) 40%,
      var(--color-pine-dark) 100%
    );
  }
}
